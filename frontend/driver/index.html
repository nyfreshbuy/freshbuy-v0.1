<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>å¸æœºç«¯ - ä»Šæ—¥è·¯çº¿</title>
    <style>
      :root {
        --bg: #0b1220;
        --card: rgba(255, 255, 255, 0.06);
        --line: rgba(148, 163, 184, 0.22);
        --text: #e5e7eb;
        --muted: #94a3b8;
        --primary: #22c55e;
        --warn: #f59e0b;
        --danger: #ef4444;
        --radius: 16px;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, "Noto Sans", sans-serif;
        background: radial-gradient(1200px 600px at 20% 0%, rgba(34,197,94,.18), transparent 55%),
                    radial-gradient(1000px 600px at 80% 10%, rgba(56,189,248,.15), transparent 60%),
                    var(--bg);
        color: var(--text);
      }
      a { color: inherit; text-decoration: none; }
      .wrap { max-width: 1100px; margin: 0 auto; padding: 16px; }
      .topbar {
        display: flex; gap: 12px; align-items: center; justify-content: space-between;
        padding: 14px 14px;
        border: 1px solid var(--line);
        background: rgba(15, 23, 42, 0.55);
        border-radius: var(--radius);
        backdrop-filter: blur(10px);
      }
      .left { display:flex; gap:12px; align-items:center; }
      .logo {
        width: 42px; height: 42px; border-radius: 14px;
        background: rgba(34,197,94,.18);
        border: 1px solid rgba(34,197,94,.35);
        display:flex; align-items:center; justify-content:center;
        font-weight: 900;
      }
      .hello { font-size: 14px; font-weight: 700; }
      .sub { font-size: 12px; color: var(--muted); margin-top: 2px; }
      .right { display:flex; gap: 8px; align-items:center; flex-wrap: wrap; justify-content: flex-end; }
      .btn {
        border: 1px solid var(--line);
        background: rgba(255,255,255,.06);
        color: var(--text);
        padding: 10px 12px;
        border-radius: 12px;
        font-size: 13px;
        cursor: pointer;
      }
      .btn:hover { background: rgba(255,255,255,.10); }
      .btn.primary { border-color: rgba(34,197,94,.45); background: rgba(34,197,94,.16); }
      .btn.danger { border-color: rgba(239,68,68,.45); background: rgba(239,68,68,.12); }
      .grid { display: grid; grid-template-columns: 360px 1fr; gap: 12px; margin-top: 12px; }
      @media (max-width: 980px) { .grid { grid-template-columns: 1fr; } }

      .card {
        border: 1px solid var(--line);
        background: rgba(15, 23, 42, 0.55);
        border-radius: var(--radius);
        padding: 14px;
      }
      .card h2 { margin: 0; font-size: 14px; }
      .muted { color: var(--muted); font-size: 12px; }
      .row { display:flex; gap: 8px; align-items:center; margin-top: 10px; flex-wrap: wrap; }
      .input, select {
        border: 1px solid var(--line);
        background: rgba(255,255,255,.06);
        color: var(--text);
        padding: 10px 10px;
        border-radius: 12px;
        font-size: 13px;
        outline: none;
      }
      select option { background: #0b1220; color: var(--text); }
      .pill {
        display:inline-flex; gap:6px; align-items:center;
        border: 1px solid var(--line);
        padding: 8px 10px;
        border-radius: 999px;
        font-size: 12px;
        color: var(--muted);
        background: rgba(255,255,255,.04);
      }

      .msg {
        margin-top: 10px;
        padding: 10px 12px;
        border-radius: 12px;
        border: 1px solid var(--line);
        display:none;
        font-size: 13px;
      }
      .msg.ok { display:block; border-color: rgba(34,197,94,.4); background: rgba(34,197,94,.12); }
      .msg.err { display:block; border-color: rgba(239,68,68,.45); background: rgba(239,68,68,.12); }

      .routeHead { display:flex; align-items:flex-end; justify-content: space-between; gap: 10px; flex-wrap: wrap; }
      .routeTitle { font-size: 14px; font-weight: 800; }
      .routeSub { font-size: 12px; color: var(--muted); margin-top: 4px; }

      .stopList { margin-top: 12px; display: flex; flex-direction: column; gap: 10px; }
      .stop {
        border: 1px solid var(--line);
        background: rgba(255,255,255,.05);
        border-radius: 14px;
        padding: 12px;
      }
      .stop-top {
        display:flex; gap:10px; justify-content: space-between; align-items:flex-start;
      }
      .stop h3 { margin: 0 0 6px 0; font-size: 14px; }
      .meta { font-size: 12px; color: var(--muted); line-height: 1.6; }
      .actions { margin-top: 10px; display:flex; gap: 8px; flex-wrap: wrap; align-items:center; }
      .btn.mini { padding: 8px 10px; border-radius: 10px; font-size: 12px; }
      .btn.mini.primary { background: rgba(34,197,94,.16); border-color: rgba(34,197,94,.45); }
      .btn.mini.info { background: rgba(56,189,248,.12); border-color: rgba(56,189,248,.35); }
      .badge {
        padding: 6px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid var(--line);
        background: rgba(255,255,255,.06);
        color: var(--muted);
        white-space: nowrap;
      }
      .badge.ok { border-color: rgba(34,197,94,.4); color: #86efac; background: rgba(34,197,94,.12); }
      .badge.warn { border-color: rgba(245,158,11,.45); color: #fcd34d; background: rgba(245,158,11,.12); }
      .badge.dim { opacity: .9; }

      .hint { color: var(--muted); font-size: 13px; padding: 10px 0; }
      code { color: #a5b4fc; }
    </style>
  </head>

  <body>
    <div class="wrap">
      <div class="topbar">
        <div class="left">
          <div class="logo">ğŸšš</div>
          <div>
            <div class="hello" id="hello">ä½ å¥½ï¼Œå¸æœº</div>
            <div class="sub" id="driverSub">å½“å‰å¸æœºï¼š-</div>
          </div>
        </div>

        <div class="right">
          <span class="pill">Tokenï¼š<b id="tokenHint">?</b></span>
          <span class="pill">APIï¼š<b id="apiHint">-</b></span>
          <span class="pill">è®¢å•æ•°ï¼š<b id="countHint">0</b></span>
          <button class="btn" id="btnPing">Ping</button>
          <button class="btn danger" id="btnLogout">é€€å‡º</button>
        </div>
      </div>

      <div class="grid">
        <!-- å·¦ä¾§ï¼šé€‰æ‹©æ—¥æœŸ/æ‰¹æ¬¡ -->
        <div class="card">
          <h2>ä»»åŠ¡é€‰æ‹©</h2>
          <div class="muted" style="margin-top:6px;">
            ä½ å¯ä»¥æŒ‰ <b>æ‰¹æ¬¡</b> æ‹‰è®¢å•ï¼›å¦‚æœæ‰¹æ¬¡æ¥å£ä¸å­˜åœ¨ï¼Œä¹Ÿå¯ä»¥æŒ‰ <b>æ—¥æœŸ</b> æ‹‰è®¢å•ã€‚
          </div>

          <div class="row">
            <input class="input" id="dateInput" type="date" />
            <button class="btn" id="btnLoadBatches">åŠ è½½æ‰¹æ¬¡</button>
          </div>

          <div class="row">
            <select id="batchSelect" style="min-width: 260px;">
              <option value="">ï¼ˆå¯é€‰ï¼‰å…ˆåŠ è½½æ‰¹æ¬¡</option>
            </select>
          </div>

          <div class="row">
            <button class="btn primary" id="btnLoadOrders">åŠ è½½è®¢å•</button>
            <button class="btn" id="btnRefresh">åˆ·æ–°</button>
            <button class="btn" id="btnNavAll">å…¨ç¨‹å¯¼èˆª</button>
          </div>

          <div class="msg ok" id="okBox"></div>
          <div class="msg err" id="errBox"></div>

          <div class="muted" style="margin-top:10px;">
            å¦‚æœåå°å·²æ´¾å•ä½†è¿™é‡Œä¸ºç©ºï¼šé€šå¸¸æ˜¯ <code>å¸æœºç«¯æ¥å£æ²¡æŒ‰ driver è¿‡æ»¤</code> æˆ– <code>é¡µé¢è¿˜åœ¨è·‘æ—§ JS</code>ã€‚
          </div>
        </div>

        <!-- å³ä¾§ï¼šè·¯çº¿åˆ—è¡¨ -->
        <div class="card">
          <div class="routeHead">
            <div>
              <div class="routeTitle">ä»Šæ—¥è·¯çº¿</div>
              <div class="routeSub" id="routeSub">æœªåŠ è½½</div>
            </div>
          </div>

          <div id="stopList" class="stopList">
            <div class="hint">ç‚¹å‡»â€œåŠ è½½è®¢å•â€å¼€å§‹ã€‚</div>
          </div>
        </div>
      </div>
    </div>

    <!-- âœ… å…³é”®ï¼šä¸è¦å†å¼•ç”¨æ—§çš„ driver_orders.js -->
    <script src="/driver/driver_index.js?v=20260110-1"></script>
  </body>
</html>
