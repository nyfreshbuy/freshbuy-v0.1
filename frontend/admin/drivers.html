<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <title>å¸æœºç®¡ç† - åœ¨é²œè´­æ‹¼å¥½è´§åå°</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="assets/css/admin.css" />

    <!-- åªè¡¥ä¸€ç‚¹ç‚¹å¸æœºé¡µä¸“ç”¨æ ·å¼ï¼Œä¸ä¼šç ´åç°æœ‰ä¸»é¢˜ -->
    <style>
      .driver-filters {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
      }
      .driver-input {
        min-width: 180px;
        padding: 6px 10px;
        border-radius: 999px;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        font-size: 13px;
        outline: none;
      }
      .driver-input::placeholder {
        color: #9ca3af;
      }

      .driver-pagination {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        gap: 8px;
        padding: 8px 4px 0;
        font-size: 12px;
        color: #9ca3af;
      }
      .driver-page-btn {
        border-radius: 999px;
        padding: 3px 9px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        cursor: pointer;
      }
      .driver-page-btn:disabled {
        opacity: 0.4;
        cursor: default;
      }

      /* ç¼–è¾‘å¼¹çª— */
      .driver-modal {
        position: fixed;
        inset: 0;
        background: rgba(15, 23, 42, 0.78);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 2000;
      }
      .driver-modal.open {
        display: flex;
      }
      .driver-modal-content {
        width: 380px;
        background: radial-gradient(
          circle at top left,
          rgba(37, 99, 235, 0.9) 0,
          #020617 60%
        );
        border-radius: 20px;
        border: 1px solid rgba(37, 99, 235, 0.75);
        box-shadow: 0 20px 50px rgba(15, 23, 42, 0.95);
        padding: 18px 20px 16px;
      }
      .driver-modal-title {
        margin: 0 0 10px;
        font-size: 16px;
        font-weight: 600;
        color: #e5e7eb;
      }
      .driver-field {
        display: flex;
        flex-direction: column;
        margin-bottom: 10px;
        font-size: 13px;
        color: #cbd5f5;
      }
      .driver-field span {
        margin-bottom: 3px;
        color: #9ca3af;
      }
      .driver-field input,
      .driver-field select {
        border-radius: 10px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        padding: 6px 10px;
        background: rgba(15, 23, 42, 0.95);
        color: #e5e7eb;
        font-size: 13px;
        outline: none;
      }
      .driver-modal-actions {
        display: flex;
        justify-content: flex-end;
        gap: 8px;
        margin-top: 6px;
      }
      .driver-btn {
        border-radius: 999px;
        padding: 6px 14px;
        font-size: 13px;
        border: 1px solid rgba(148, 163, 184, 0.5);
        background: rgba(15, 23, 42, 0.9);
        color: #e5e7eb;
        cursor: pointer;
      }
      .driver-btn-primary {
        border: none;
        background: linear-gradient(to right, #3b82f6, #2563eb);
        color: #f9fafb;
      }
    </style>
  </head>

  <!-- â­ data-page ç”¨äºé«˜äº®èœå•ï¼ˆç»Ÿä¸€ sidebar ä¼šè¯»è¿™ä¸ªï¼‰ -->
  <body class="admin-layout" data-page="drivers">
    <!-- âœ… ç»Ÿä¸€åå°å¸ƒå±€ -->
    <aside class="admin-sidebar">
      <!-- âœ… ç»Ÿä¸€ sidebarï¼šç”± /admin/assets/js/admin_sidebar.js æ³¨å…¥ -->
      <div id="adminSidebar"></div>
    </aside>
      <!-- å³ä¾§ä¸»å†…å®¹ -->
      <div class="admin-main">
        <header class="admin-topbar">
          <button class="admin-btn admin-btn-ghost" data-toggle-sidebar>
            â˜°
          </button>
          <div class="admin-topbar-title">å¸æœºç®¡ç†</div>
          <div class="admin-topbar-spacer"></div>

          <div class="admin-search">
            <span class="admin-search-icon">ğŸ”</span>
            <input
              type="text"
              placeholder="æœç´¢å¸æœºå§“å / ç”µè¯..."
              id="topSearch"
            />
          </div>

          <div class="admin-user">
            <div class="admin-user-avatar">A</div>
            <div class="admin-user-info">
              <span class="admin-user-name">Admin</span>
              <span class="admin-user-role">è¶…çº§ç®¡ç†å‘˜</span>
            </div>
          </div>
        </header>

        <main class="admin-content">
          <!-- ä¸´æ—¶å¯†ç æç¤ºæ¡ï¼ˆæ–°å¢/é‡ç½®åæ˜¾ç¤ºä¸€æ¬¡ + è‡ªåŠ¨å¤åˆ¶ï¼‰ -->
<div
  id="tempPwdBar"
  style="
    display:none;
    margin: 10px 0 14px;
    padding: 10px 12px;
    border-radius: 14px;
    border: 1px solid rgba(59,130,246,.45);
    background: rgba(15,23,42,.85);
    color:#e5e7eb;
    box-shadow: 0 8px 24px rgba(15,23,42,.35);
  "
>
  <div style="display:flex;align-items:center;gap:10px;flex-wrap:wrap;">
    <div style="font-size:13px;color:#9ca3af;">ä¸´æ—¶å¯†ç ï¼ˆå·²è‡ªåŠ¨å¤åˆ¶ï¼‰ï¼š</div>
    <div id="tempPwdText" style="font-weight:700;letter-spacing:.5px;"></div>

    <button id="copyTempPwdBtn" class="admin-btn admin-btn-ghost" type="button">
      å¤åˆ¶
    </button>
    <button id="closeTempPwdBtn" class="admin-btn admin-btn-ghost" type="button">
      å…³é—­
    </button>

    <div id="tempPwdTip" style="margin-left:auto;font-size:12px;color:#9ca3af;"></div>
  </div>
</div>
          <!-- é¡¶éƒ¨æ ‡é¢˜ + æŒ‰é’® -->
          <div class="admin-page-header">
            <div>
              <div class="admin-page-title">å¸æœºåˆ—è¡¨</div>
              <div class="admin-breadcrumb">åå° &gt; å¸æœºç®¡ç†</div>
            </div>
            <div class="admin-page-actions">
              <button
                class="admin-btn admin-btn-ghost"
                id="refreshBtn"
              >
                âŸ³ åˆ·æ–°
              </button>
              <button class="admin-btn admin-btn-primary" id="addDriverBtn">
              ï¼‹ æ–°å¢å¸æœº
              </button>
            </div>
          </div>

          <!-- ä¸Šæ–¹ç»Ÿè®¡å¡ç‰‡ï¼ˆé™æ€å±•ç¤ºï¼‰ -->
          <section class="admin-grid">
            <article class="admin-card admin-card-ghost">
              <div class="admin-card-title">åœ¨å²—å¸æœº</div>
              <div class="admin-card-value">â€”</div>
              <div class="admin-card-sub">å½“å‰åœ¨çº¿æ¥å•å¸æœºï¼ˆæš‚æœªå¯¹æ¥ç»Ÿè®¡ï¼‰</div>
            </article>
            <article class="admin-card admin-card-ghost">
              <div class="admin-card-title">ä»Šæ—¥é…é€è®¢å•</div>
              <div class="admin-card-value">â€”</div>
              <div class="admin-card-sub">åç»­å¯æŒ‰å¸æœºæ±‡æ€»ç»Ÿè®¡</div>
            </article>
            <article class="admin-card admin-card-ghost">
              <div class="admin-card-title">å·²å®Œæˆè®¢å•</div>
              <div class="admin-card-value">â€”</div>
              <div class="admin-card-sub">
                å¯¹æ¥ /api/admin/driver-stats åå±•ç¤º
              </div>
            </article>
            <article class="admin-card admin-card-ghost">
              <div class="admin-card-title">å¼‚å¸¸è®¢å•</div>
              <div class="admin-card-value">â€”</div>
              <div class="admin-card-sub">å¦‚æ— äººæ¥å¬ã€åœ°å€é”™è¯¯ç­‰</div>
            </article>
          </section>

          <!-- ç­›é€‰ + åˆ—è¡¨ -->
          <section class="admin-table-card" style="margin-top: 12px">
            <div class="admin-card-header">
              <div>
                <div class="admin-card-header-title">å¸æœºåˆ—è¡¨</div>
                <div class="admin-card-header-sub">
                  æ•°æ®æ¥è‡ª /api/admin/drivers
                </div>
              </div>
            </div>

            <!-- ç­›é€‰æ¡ -->
            <div class="driver-filters">
              <input
                id="keyword"
                type="text"
                class="driver-input"
                placeholder="æŒ‰å§“å / æ‰‹æœº / è½¦ç‰Œæœç´¢"
              />
              <select id="statusFilter" class="driver-input">
                <option value="">å…¨éƒ¨çŠ¶æ€</option>
                <option value="online">åœ¨çº¿</option>
                <option value="offline">ç¦»çº¿</option>
                <option value="disabled">åœç”¨</option>
              </select>
              <select id="regionFilter" class="driver-input">
                <option value="">å…¨éƒ¨åŒºåŸŸ</option>
                <option value="æ³•æ‹‰ç››">æ³•æ‹‰ç››</option>
                <option value="Bayside">Bayside</option>
                <option value="Fresh Meadows">Fresh Meadows</option>
              </select>
              <button
                id="searchBtn"
                class="admin-btn admin-btn-primary"
                type="button"
              >
                æœç´¢
              </button>
            </div>

            <!-- è¡¨æ ¼ -->
            <div class="admin-table-wrapper" style="margin-top: 8px">
              <table class="admin-table">
                <thead>
                  <tr>
                    <th>å§“å</th>
                    <th>æ‰‹æœºå·</th>
                    <th>è½¦å‹</th>
                    <th>è½¦ç‰Œ</th>
                    <th>è´Ÿè´£åŒºåŸŸ</th>
                    <th>çŠ¶æ€</th>
                    <th>ä»Šæ—¥å•æ•°</th>
                    <th>æ€»å•æ•°</th>
                    <th>è¯„åˆ†</th>
                    <th>æ“ä½œ</th>
                  </tr>
                </thead>
                <tbody id="driverTableBody"></tbody>
              </table>
            </div>
            <!-- åˆ†é¡µåŒºåŸŸï¼ˆç»™ drivers.js ç”¨ï¼‰ -->
            <div class="driver-pagination" id="driverPagination"></div>
            <!-- åˆ†é¡µ -->
            <div
          </section>
        </main>
      </div>
    </div>
    <!-- ç¼–è¾‘å¸æœºå¼¹çª— -->
     <!-- ç¼–è¾‘å¸æœºå¼¹çª— -->
<div class="driver-modal" id="editModal">
  <div class="driver-modal-content">
    <h2 class="driver-modal-title">ç¼–è¾‘å¸æœºä¿¡æ¯</h2>

    <label class="driver-field">
      <span>å§“å</span>
      <input id="editName" type="text" />
    </label>

    <label class="driver-field">
      <span>æ‰‹æœºå·</span>
      <input id="editPhone" type="text" />
    </label>

    <label class="driver-field">
      <span>è½¦å‹</span>
      <input id="editVehicleType" type="text" />
    </label>

    <label class="driver-field">
      <span>è½¦ç‰Œå·</span>
      <input id="editPlateNumber" type="text" />
    </label>

    <label class="driver-field">
      <span>è´Ÿè´£åŒºåŸŸ</span>
      <input id="editRegion" type="text" />
    </label>

    <label class="driver-field">
      <span>çŠ¶æ€</span>
      <select id="editStatus">
        <option value="online">åœ¨çº¿</option>
        <option value="offline">ç¦»çº¿</option>
        <option value="disabled">åœç”¨</option>
      </select>
    </label>

    <div class="driver-modal-actions">
      <button id="cancelEditBtn" type="button" class="driver-btn">å–æ¶ˆ</button>
      <button id="saveDriverBtn" type="button" class="driver-btn driver-btn-primary">
        ä¿å­˜
      </button>
    </div>
  </div>
</div>
   <!-- æ–°å¢å¸æœºå¼¹çª— -->
<div class="driver-modal" id="addModal">
  <div class="driver-modal-content">
    <h2 class="driver-modal-title">æ–°å¢å¸æœº</h2>

    <label class="driver-field">
      <span>å§“å</span>
      <input id="addName" type="text" placeholder="ä¾‹å¦‚ï¼šç‹å¸ˆå‚…" />
    </label>

    <label class="driver-field">
      <span>æ‰‹æœºå·</span>
      <input id="addPhone" type="text" placeholder="ä¾‹å¦‚ï¼š18800001001" />
    </label>

    <label class="driver-field">
      <span>è½¦å‹</span>
      <input id="addCarType" type="text" placeholder="è½¿è½¦ / SUV / é¢åŒ…è½¦" />
    </label>

    <label class="driver-field">
      <span>è½¦ç‰Œ</span>
      <input id="addPlate" type="text" placeholder="NY-AB1234" />
    </label>

    <label class="driver-field">
      <span>è´Ÿè´£åŒºåŸŸ</span>
      <input id="addZone" type="text" placeholder="Fresh Meadows / æ³•æ‹‰ç››" />
    </label>

    <label class="driver-field">
      <span>çŠ¶æ€</span>
      <select id="addStatus">
        <option value="offline">ç¦»çº¿</option>
        <option value="online">åœ¨çº¿</option>
        <option value="suspended">åœç”¨</option>
      </select>
    </label>

    <div class="driver-modal-actions">
      <button id="cancelAddBtn" type="button" class="driver-btn">å–æ¶ˆ</button>
      <button id="createDriverBtn" type="button" class="driver-btn driver-btn-primary">
        åˆ›å»º
      </button>
    </div>
  </div>
</div>
<script src="/admin/assets/js/admin_guard.js"></script>
<script src="./assets/js/admin_auth_ui.js"></script>
<!-- âœ… ç»Ÿä¸€ sidebar æ³¨å…¥è„šæœ¬ï¼ˆå¿…é¡»åŠ ï¼‰ -->
    <script src="/admin/assets/js/admin_sidebar.js"></script>
    <!-- ä½ çš„é€šç”¨ admin è„šæœ¬ -->
    <script src="assets/js/admin.js"></script>
    <!-- å¸æœºç®¡ç†é€»è¾‘ -->
    <script src="drivers.js"></script>
  </body>
</html>
