// backend/src/memory/marketingStore.js
// =======================================================
// ğŸ§  åœ¨é²œè´­æ‹¼å¥½è´§ï¼šè¥é”€ä¸­å¿ƒ Â· å†…å­˜æ•°æ®åº“ï¼ˆæ—  Mongo ç‰ˆï¼‰
// -------------------------------------------------------
// å­˜å‚¨ï¼š
//   âœ”ï¸ ä¼˜æƒ åˆ¸
//   âœ”ï¸ æ»¡å‡/ä¼˜æƒ æ´»åŠ¨
//   âœ”ï¸ æ‹¼è¿è´¹é…ç½®
//   âœ”ï¸ ç§’æ€ / å‘¨äº”çˆ†å“æ—¥
//   âœ”ï¸ æ¨èè£‚å˜è®°å½•
//   âœ”ï¸ ç”¨æˆ·ç§¯åˆ†ç³»ç»Ÿ
// -------------------------------------------------------
// è¿™ä¸€ä»½ä¸ºä½ å½“å‰ç³»ç»Ÿçš„å®˜æ–¹æ ‡å‡†ç‰ˆ
// =======================================================

// -------------------------------------------------------
// 1) ä¼˜æƒ åˆ¸ï¼šcash / percentage / fullcut / newUser
// -------------------------------------------------------
export const coupons = []; 
// æ¯ä¸ªç»“æ„ï¼š
// {
//   _id,
//   title,
//   type,           // cash / percentage / fullcut / newUser
//   amount,
//   minSpend,
//   validFrom,
//   validTo,
//   limitUse,
//   status: "active" | "disabled",
//   createdAt
// }

// -------------------------------------------------------
// 2) æ»¡å‡ / åˆ†ç±»æŠ˜æ‰£ / è´­ç‰©è½¦ä¼˜æƒ 
// -------------------------------------------------------
export const promotions = [];
// {
//   _id,
//   name,
//   ruleType,       // cart_fullcut / cart_discount / category_discount
//   threshold,
//   discount,
//   validFrom,
//   validTo,
//   enabled,
//   note,
//   createdAt
// }

// -------------------------------------------------------
// 3) æ‹¼è¿è´¹ï¼ˆå¥½å‹æ‹¼å•ï¼‰é…ç½®
// -------------------------------------------------------
export const shareShippingConfig = {
  baseFee: 4.99,
  expireMinutes: 15,
  steps: [
    { people: 2, price: 1.99 },
    { people: 3, price: 0.99 },
    { people: 4, price: 0.0 },
  ],
};
// ä¼šè¢« /share-shipping æ¥å£è¯»å–ä¸ä¿å­˜

// -------------------------------------------------------
// 4) ç§’æ€ / å‘¨äº”çˆ†å“æ—¥ï¼ˆæ ¸å¿ƒï¼‰
// -------------------------------------------------------
//
// æ¯æ¡ flashSale ç»“æ„ï¼š
// {
//   _id,
//   productId,       // åŸå•†å“ ID
//   clonedId,        // ğŸ”¥ å¤åˆ¶ç”Ÿæˆçš„çˆ†å“å•†å“ IDï¼ˆä½ è¦æ±‚çš„ï¼‰
//   flashPrice,
//   limitQty,
//   start,
//   end,
//   enabled,
//   tag,
//   createdAt
// }
// -------------------------------------------------------
export const flashSales = [];

// -------------------------------------------------------
// 5) æ¨èè£‚å˜ï¼ˆç¤ºä¾‹ï¼‰
// -------------------------------------------------------
export const referrals = [];
// {
//   userId,
//   inviteCode,
//   invitedUsers: [],
//   rewards: []
// }

// -------------------------------------------------------
// 6) ç”¨æˆ·ç§¯åˆ†ç³»ç»Ÿ
// -------------------------------------------------------
//
// pointsMap = Map<string, { userId, points, logs[] }>
// logs: [{ amount, type: "earn"|"use", remark, time }]
// -------------------------------------------------------
export const pointsMap = new Map();

// -------------------------------------------------------
// 7) ç»Ÿä¸€ ID ç”Ÿæˆå™¨
// -------------------------------------------------------
export function genId(prefix = "mkt") {
  return (
    prefix +
    "_" +
    Date.now().toString(36) +
    "_" +
    Math.random().toString(16).slice(2)
  );
}
